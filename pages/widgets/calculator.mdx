import { Docs } from '@beequip/dev-components/layout/_docs'
import { RequestToken } from '@beequip/dev-components/intermediary/RequestToken'
import { withApollo } from '@beequip/dev-lib/withApollo'

export const meta = {
    title: 'Embed our calculator widget',
    description: 'Get started with adding our calculator widget to your website.',
}

# Calculator widget

## Embed Beequip lease calculations into your site.   

The calculator widget works best when placed on pages that showcase a single piece
of equipment so its data can be used in the calculations. The widget has several 
configuration parameters, which you can read about below.

## Getting started

1. Add a piece of HTML to your web page with class `beequip-calculator`, in a location where you want 
the calculator widget to render.

```
<a href="https://lease.beequip.nl" class="beequip-calculator">Lease equipment bij Beequip</a>
```

2. Add the [required parameters](#required-parameters) with data-attributes, as described below.

```
<a href="https://lease.beequip.nl" class="beequip-calculator" data-brand="Caterpillar">
    Lease equipment bij Beequip
</a>
```

3. Add a reference to a script hosted by Beequip. This script will render the widget.

```
<a href="https://lease.beequip.nl" class="beequip-calculator" data-category-id="13" data-brand="Caterpillar">
    Lease equipment bij Beequip
</a>
<script async src="https://widgets.beequip.nl/embed.js"></script>
```

## How it works

### Parameters

You can supply parameters to the widget to influence the layout, configure the calculation, 
or to pre-fill the widget’s input fields with data from your product’s page.

#### Required parameters

These parameters must be supplied via `data-` attributes, otherwise the widget will not work.

---

##### `token` string

We use a unique token as an identifier for your organisation. 

```
<a data-token="Xhpx7QT6xRF9ZHyABrxmm12Q">
```

By adding this token to your widget, we can:
 
- Use your interest rates and pricing agreements in the lease calculations that the widget performs.
- Track if a customer requests a deal coming from your website, and show that deal 
in the Beeport. ([More information about Beeport and getting an account](https://www.beequip.nl/beeport/).)

You can find your token on the settings page in your Beeport account.   
If you don't have a Beeport account, you can request a token with this form:

<RequestToken />

##### `brand` string

The brand/manufacturer of the equipment.

```
<a data-brand="Caterpillar">
```

##### `model` string

The model of the equipment.

```
<a data-model="AS 450">
```

##### `year` integer

The year the equipment was built.

```
<a data-year="2017">
```

---

#### Optional parameters

---

##### `category-id` integer 

With the category ID you can supply the asset category the equipment belongs to. Lookup the appropriate ID in 
the [category table](#available-categories).   
If you do not supply the category ID, a dropdown will be rendered where the user must choose a category.

```
<a data-category-id="3">
```

##### `object-used` boolean

Indicates the condition the equipment is in. `true` if it is used, `false` if it is new.   
Defaults to `true`.

```
<a data-object-used="false">
```

##### `purchase-price` decimal

The amount it costs to buy the equipment. This value is shown in an input field, and
can be changed by the user.

⚠ The equipment should cost at least € 15.000. We don’t accept deals with a lower purchase price.

```
<a data-purchase-price="15000">
```

##### `width` integer

The width of the rendered widget, in pixels or a percentage. Defaults to 300 pixels.

```
<a data-width="400">
```

##### `height` integer

The height of the rendered widget, in pixels or a percentage. Defaults to 300 pixels.

```
<a data-width="600">
```

##### `theme` string

Customize the color scheme of the widget. Possible values are: 

- `dark`: the widget renders with a dark-grey background and white text.
- `light`: the widget renders with a white background and dark-grey text.
- `custom`: the widget renders with custom colors. These colors can be supplied with 
6 other data-attributes:
   - `data-color`
   - `data-background-color`
   - `data-primary-button-color`
   - `data-primary-button-background-color`
   - `data-secondary-button-background-color`
   - `data-secondary-button-background-color`

⚠ All color attributes must be supplied, otherwise the custom theme won’t be applied.

Defaults to `light`.

```
<a data-theme="dark">
```

##### `color` string

This will set the text color of the body copy to the given value. The value
can be any valid CSS color.

```
<a data-color="#333">
```

##### `background-color` string

This will set the background color of the entire widget to the given value. The value
can be any valid CSS color.

```
<a data-background-color="rgb(255, 161, 0)">
```

##### `primary-button-color` string

This will set the text color of the primary button to the given value. The value
can be any valid CSS color.

```
<a data-primary-button-color="#056fff">
```

##### `primary-button-background-color` string

This will set the background color of the primary button to the given value. The value
can be any valid CSS color.

```
<a data-primary-button-background-color="rgb(0, 0, 0)">
```

##### `secondary-button-color` string

This will set the text color of the secondary button to the given value. The value
can be any valid CSS color.

```
<a data-secondary-button-color="#056fff">
```

##### `secondary-button-background-color` string

This will set the background color of the secondary button to the given value. The value
can be any valid CSS color.

```
<a data-secondary-button-background-color="rgb(0, 0, 0)">
```

##### `show-logo` boolean

Indicates whether the logo of Beequip will be shown in calculator widget.
Defaults to `true`.

```
<a data-show-logo="false">
```

---

### Available categories

ID | Description in Dutch | Description in English
-- | -------------------- | ----------------------
1 | Energie | Energy
2 | Grondverzet | Earthmoving
3 | Wegtransport | Road transport
4 | Containers | Containers
5 | Bouw | Construction
6 | Heftrucks | Forklifts
7 | Kranen | Cranes
8 | Agrarisch | Agriculture
11 | Haven | Harbour
12 | Recycling | Recycling
13 | Maritiem | Maritime
15 | Metaalbewerking | Metal processing

## Examples

### Example widget with a few attributes

<p className="codepen" data-height="500" data-theme-id="default" data-default-tab="html,result" data-user="beequip" data-slug-hash="LYVRrro" data-pen-title="Calculator widget with a bunch of options">
  <span>See the Pen <a href="https://codepen.io/beequip/pen/LYVRrro">
  Calculator widget with a bunch of options</a> by Beequip (<a href="https://codepen.io/beequip">@beequip</a>)
  on <a href="https://codepen.io">CodePen</a>.</span>
</p>
<script async src="https://static.codepen.io/assets/embed/ei.js"></script>

export default withApollo()(({ children }) => <Docs meta={meta}>{children}</Docs>)
